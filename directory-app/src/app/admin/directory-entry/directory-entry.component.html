<div ibmRow>
    <div ibmCol [columnNumbers]="{'lg': 16}">
        <ibm-breadcrumb>
            <ibm-breadcrumb-item>
                <a [routerLink]="['../../search']">Suche</a>
            </ibm-breadcrumb-item>
            <ibm-breadcrumb-item *ngIf="queryString">
                <a [routerLink]="['../../search-results', {'q': queryString}]">Suchergebnise</a>
            </ibm-breadcrumb-item>
        </ibm-breadcrumb>   
    </div>
</div>
<div ibmRow *ngIf="entry">
    <div ibmCol [columnNumbers]="{'lg': 4}"></div>
    <div ibmCol [columnNumbers]="{'lg': 8}">
        <div ibmRow>
            <div ibmCol>
                <h1>{{entry.base.displayName}}</h1>
            </div>
        </div>
        <ibm-tabs [isNavigation]="false">
            <ibm-tab heading="Allgemein">
                <h2>{{entry.kind}}</h2>
                
                <ibm-label
        			[warn]="false"
			        [warnText]="'Etwas ist nicht in Ordnung'">
                    Anzeige name
                    <input
                        ibmText
                        [(ngModel)]="entry.base.displayName"
                        readonly="true"
                    >
                </ibm-label>
                
                <ibm-label>
                    TelematikID
                    <input
                        ibmText
                        [(ngModel)]="entry.base.telematikID"
                        readonly="true"
                    >
                </ibm-label> 

                <ibm-label>
                    Adresse
                    <input
                        ibmText
                        [(ngModel)]="entry.base.streetAddress"
                        readonly="true"
                    >
                </ibm-label> 

                <div ibmRow>
                <ibm-label 
                    ibmCol
                    [columnNumbers]="{'lg': 11}"
                >
                    Ort
                    <input
                        ibmText
                        [(ngModel)]="entry.base.localityName"
                        readonly="true"
                    >
                </ibm-label>
                <ibm-label 
                    ibmCol
                    [columnNumbers]="{'lg': 5}"
                >
                    PLZ
                    <input
                        ibmText
                        [(ngModel)]="entry.base.postalCode"
                        readonly="true"
                    >
                </ibm-label>
                </div>
                <div class="KIMAddressList">
                    <ibm-structured-list [border]="false" [condensed]="true" [nowrap]="false">
                        <ibm-list-header>
                            <ibm-list-column [nowrap]="true">KIM-Adresse</ibm-list-column>
                            <ibm-list-column>Version</ibm-list-column>
                            <ibm-list-column>Anbieter</ibm-list-column>
                        </ibm-list-header>
                        <ibm-list-row *ngFor="let kimAddress of entry.kimAddresses">
                            <ibm-list-column>{{kimAddress?.mail}}</ibm-list-column>
                            <ibm-list-column>{{kimAddress?.version}}</ibm-list-column>
                            <ibm-list-column>{{kimAddress?.provider?.display}}</ibm-list-column>
                        </ibm-list-row>
                        <ibm-list-row *ngIf="entry.kimAddresses === undefined">
                            <ibm-list-column><svg ibmIcon="warning--filled" class="warning"></svg> Keine KIM-Adressen</ibm-list-column>
                            <ibm-list-column></ibm-list-column>
                        </ibm-list-row>
                    </ibm-structured-list>           
                </div>
            </ibm-tab>
            <ibm-tab heading="Zertifikate">
                <div class="UserCertificateList">
                    <ibm-structured-list [border]="false" [condensed]="true">
                        <ibm-list-header>
                            <ibm-list-column [nowrap]="true"> </ibm-list-column>
                            <ibm-list-column [nowrap]="true">Seriennummer</ibm-list-column>
                            <ibm-list-column [nowrap]="true">Alg</ibm-list-column>
                            <ibm-list-column [nowrap]="true">Herausgeber</ibm-list-column>
                            <ibm-list-column [nowrap]="true">herausgegeben</ibm-list-column>
                            <ibm-list-column [nowrap]="true">l√§uft ab</ibm-list-column>
                        </ibm-list-header>
                        <ibm-list-row *ngFor="let cert of userCertificateList">
                            <ibm-list-column><svg [ibmIcon]="cert.iconName" [class]="cert.iconClass"></svg></ibm-list-column>
                            <ibm-list-column>{{cert.serialNumber}}</ibm-list-column>
                            <ibm-list-column>{{cert.algorithm}}</ibm-list-column>
                            <ibm-list-column>{{cert.issuer}}</ibm-list-column>
                            <ibm-list-column>{{cert.notBefore}}</ibm-list-column>
                            <ibm-list-column>{{cert.notAfter}}</ibm-list-column>
                        </ibm-list-row>
                        <ibm-list-row *ngIf="userCertificateList === undefined || userCertificateList.length === 0">
                            <ibm-list-column><svg ibmIcon="warning--filled" class="warning"></svg></ibm-list-column>
                            <ibm-list-column>Keine Zertifikate</ibm-list-column>
                            <ibm-list-column></ibm-list-column>
                            <ibm-list-column></ibm-list-column>
                            <ibm-list-column></ibm-list-column>
                            <ibm-list-column></ibm-list-column>
                        </ibm-list-row>
                    </ibm-structured-list>           
                </div>
            </ibm-tab>
            <ibm-tab heading="Rohdaten">
                <pre><code>{{rawData}}</code></pre>
            </ibm-tab>
        </ibm-tabs>
    </div>
    <div ibmCol [columnNumbers]="{'lg': 4}"></div>
</div>
  